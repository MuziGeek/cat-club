# å¼€å‘è¿›åº¦è®°å½•

> æœ€åæ›´æ–°ï¼š2026-02-06 09:58

---

## 2026-02-06 å¼€å‘æ—¥å¿—ï¼ˆè…¾è®¯äº‘ CloudBase å®Œæ•´è¿ç§»ï¼‰

### æ¦‚è¿°

æœ¬æ¬¡å¼€å‘å®Œæˆäº†ä» **Firebase åˆ°è…¾è®¯äº‘ CloudBase çš„å®Œæ•´è¿ç§»**ï¼Œç§»é™¤äº†æ‰€æœ‰ Firebase ä¾èµ–ï¼Œç»Ÿä¸€ä½¿ç”¨ CloudBase HTTP API è¿›è¡Œè®¤è¯å’Œæ•°æ®æ“ä½œã€‚è¿™æ˜¯ä¸€æ¬¡é‡å¤§æ¶æ„å˜æ›´ï¼Œæ¶‰åŠ 32 ä¸ªæ–‡ä»¶ï¼Œå‡€ä»£ç å˜åŒ–çº¦ 3471 è¡Œã€‚

### å®Œæˆäº‹é¡¹

#### Phase 1: Firebase ä¾èµ–æ¸…ç† âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| ç§»é™¤ Firebase é…ç½® | åˆ é™¤ `firebase_options.dart` | âœ… |
| ç§»é™¤ Firebase Auth | åˆ é™¤ `auth_service.dart` | âœ… |
| ç§»é™¤ Firestore | åˆ é™¤ `firestore_service.dart` | âœ… |
| ç§»é™¤ CloudBase SDK | åˆ é™¤ `cloudbase_auth_service.dart`ï¼ˆæ”¹ç”¨ HTTP APIï¼‰ | âœ… |
| æ›´æ–°ä¾èµ– | `pubspec.yaml` ç§»é™¤ Firebase ç›¸å…³åŒ… | âœ… |

**åˆ é™¤æ–‡ä»¶ï¼š**
- `lib/config/firebase_options.dart` - Firebase é…ç½®ï¼ˆ65è¡Œï¼‰
- `lib/firebase_options.dart` - Firebase é€‰é¡¹ï¼ˆ68è¡Œï¼‰
- `lib/services/auth_service.dart` - Firebase Auth æœåŠ¡ï¼ˆ100è¡Œï¼‰
- `lib/services/firestore_service.dart` - Firestore æœåŠ¡ï¼ˆ572è¡Œï¼‰
- `lib/services/cloudbase_auth_service.dart` - CloudBase SDK æœåŠ¡ï¼ˆ148è¡Œï¼‰

#### Phase 2: CloudBase HTTP API è®¤è¯æœåŠ¡ âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| HTTP API è®¤è¯æœåŠ¡ | `cloudbase_auth_http_service.dart` æ–°å¢ | âœ… |
| æ‰‹æœºéªŒè¯ç ç™»å½• | å‘é€/éªŒè¯ OTP | âœ… |
| é‚®ç®±å¯†ç ç™»å½• | signInWithPassword | âœ… |
| åŒ¿åç™»å½• | signInAnonymously | âœ… |
| Token ç®¡ç† | è‡ªåŠ¨åˆ·æ–°ã€æœ¬åœ°æŒä¹…åŒ– | âœ… |
| ç”¨æˆ·ä¿¡æ¯è·å– | getCurrentUser | âœ… |

**æ–°å¢æ–‡ä»¶ï¼š**
- `lib/services/cloudbase_auth_http_service.dart` - CloudBase HTTP API è®¤è¯æœåŠ¡

#### Phase 3: æ•°æ®æœåŠ¡é‡æ„ âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| CloudbaseService é‡æ„ | æ•´åˆæ‰€æœ‰æ•°æ®æ“ä½œï¼ˆ+949è¡Œï¼‰ | âœ… |
| ç”¨æˆ· CRUD | åˆ›å»º/è¯»å–/æ›´æ–°ç”¨æˆ· | âœ… |
| å® ç‰© CRUD | åˆ›å»º/è¯»å–/æ›´æ–°/åˆ é™¤å® ç‰© | âœ… |
| èƒŒåŒ…ç®¡ç† | é“å…·å¢åˆ æ”¹æŸ¥ | âœ… |
| æˆå°±è¿›åº¦ | æˆå°±æ•°æ®æ“ä½œ | âœ… |
| ç­¾åˆ°æœåŠ¡ | ç­¾åˆ°æ•°æ®æ“ä½œ | âœ… |

**ä¿®æ”¹æ–‡ä»¶ï¼š**
- `lib/services/cloudbase_service.dart` - å®Œå…¨é‡æ„ï¼ˆ+949/-31 è¡Œï¼‰
- `lib/services/check_in_service.dart` - åˆ‡æ¢åˆ° CloudBaseï¼ˆ+96/-96 è¡Œï¼‰
- `lib/services/storage_service.dart` - ä¼˜åŒ– COS é›†æˆï¼ˆ+59 è¡Œï¼‰

#### Phase 4: Provider å±‚è¿ç§» âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| AuthProvider é‡æ„ | ä½¿ç”¨ CloudBase HTTP Authï¼ˆ+210 è¡Œï¼‰ | âœ… |
| PetProvider é‡æ„ | åˆ‡æ¢æ•°æ®æºåˆ° CloudBaseï¼ˆ+126 è¡Œï¼‰ | âœ… |
| UserProvider é‡æ„ | åˆ‡æ¢æ•°æ®æºåˆ° CloudBaseï¼ˆ+86 è¡Œï¼‰ | âœ… |
| InventoryProvider é‡æ„ | åˆ‡æ¢æ•°æ®æºåˆ° CloudBaseï¼ˆ+46 è¡Œï¼‰ | âœ… |
| AchievementProvider é‡æ„ | åˆ‡æ¢æ•°æ®æºåˆ° CloudBaseï¼ˆ+24 è¡Œï¼‰ | âœ… |
| CheckInProvider æ›´æ–° | é€‚é…æ–°æœåŠ¡ | âœ… |

#### Phase 5: é¡µé¢å±‚é€‚é… âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| LoginPage é‡æ„ | æ”¯æŒæ‰‹æœº/é‚®ç®±ç™»å½•ï¼ˆ+251 è¡Œï¼‰ | âœ… |
| RegisterPage é‡æ„ | é€‚é…æ–°è®¤è¯æµç¨‹ï¼ˆ+146 è¡Œï¼‰ | âœ… |
| SplashPage æ›´æ–° | æ£€æŸ¥ CloudBase è®¤è¯çŠ¶æ€ | âœ… |
| PetCreatePage æ›´æ–° | é€‚é…æ–° Provider | âœ… |
| AchievementPage æ›´æ–° | é€‚é…æ–° Provider | âœ… |
| è·¯ç”±æ›´æ–° | é€‚é…æ–°è®¤è¯é€»è¾‘ | âœ… |

#### Phase 6: é…ç½®ä¸æ„å»º âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| CloudBase é…ç½®æ›´æ–° | æ·»åŠ æ–°é…ç½®é¡¹ | âœ… |
| main.dart é‡æ„ | ç§»é™¤ Firebase åˆå§‹åŒ– | âœ… |
| Android æ„å»ºé…ç½® | ç§»é™¤ Firebase æ’ä»¶ | âœ… |
| pubspec.yaml æ›´æ–° | ç§»é™¤ Firebase ä¾èµ– | âœ… |

### æ–°å¢/ä¿®æ”¹æ–‡ä»¶æ¸…å•

| æ“ä½œ | æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
|------|----------|------|
| æ–°å»º | `lib/services/cloudbase_auth_http_service.dart` | CloudBase HTTP API è®¤è¯ |
| åˆ é™¤ | `lib/config/firebase_options.dart` | Firebase é…ç½® |
| åˆ é™¤ | `lib/firebase_options.dart` | Firebase é€‰é¡¹ |
| åˆ é™¤ | `lib/services/auth_service.dart` | Firebase Auth |
| åˆ é™¤ | `lib/services/firestore_service.dart` | Firestore æœåŠ¡ |
| åˆ é™¤ | `lib/services/cloudbase_auth_service.dart` | CloudBase SDK æœåŠ¡ |
| ä¿®æ”¹ | `lib/services/cloudbase_service.dart` | æ•°æ®æœåŠ¡é‡æ„ |
| ä¿®æ”¹ | `lib/services/check_in_service.dart` | ç­¾åˆ°æœåŠ¡è¿ç§» |
| ä¿®æ”¹ | `lib/services/storage_service.dart` | COS å­˜å‚¨ä¼˜åŒ– |
| ä¿®æ”¹ | `lib/providers/auth_provider.dart` | è®¤è¯ Provider |
| ä¿®æ”¹ | `lib/providers/pet_provider.dart` | å® ç‰© Provider |
| ä¿®æ”¹ | `lib/providers/user_provider.dart` | ç”¨æˆ· Provider |
| ä¿®æ”¹ | `lib/providers/inventory_provider.dart` | èƒŒåŒ… Provider |
| ä¿®æ”¹ | `lib/providers/achievement_provider.dart` | æˆå°± Provider |
| ä¿®æ”¹ | `lib/providers/check_in_provider.dart` | ç­¾åˆ° Provider |
| ä¿®æ”¹ | `lib/presentation/pages/auth/login_page.dart` | ç™»å½•é¡µé¢ |
| ä¿®æ”¹ | `lib/presentation/pages/auth/register_page.dart` | æ³¨å†Œé¡µé¢ |
| ä¿®æ”¹ | `lib/presentation/pages/auth/splash_page.dart` | å¯åŠ¨é¡µé¢ |
| ä¿®æ”¹ | `lib/presentation/pages/pet/pet_create_page.dart` | å® ç‰©åˆ›å»ºé¡µ |
| ä¿®æ”¹ | `lib/presentation/pages/profile/achievement_page.dart` | æˆå°±é¡µé¢ |
| ä¿®æ”¹ | `lib/presentation/router/app_router.dart` | è·¯ç”±é…ç½® |
| ä¿®æ”¹ | `lib/presentation/widgets/pet/pet_selector.dart` | å® ç‰©é€‰æ‹©å™¨ |
| ä¿®æ”¹ | `lib/main.dart` | åº”ç”¨å…¥å£ |
| ä¿®æ”¹ | `lib/config/cloudbase_config.dart` | CloudBase é…ç½® |
| ä¿®æ”¹ | `lib/data/models/user_model.dart` | ç”¨æˆ·æ¨¡å‹ |
| ä¿®æ”¹ | `android/app/build.gradle.kts` | Android æ„å»º |
| ä¿®æ”¹ | `android/build.gradle.kts` | Android æ ¹æ„å»º |
| ä¿®æ”¹ | `android/settings.gradle.kts` | Android è®¾ç½® |
| ä¿®æ”¹ | `pubspec.yaml` | ä¾èµ–é…ç½® |
| ä¿®æ”¹ | `pubspec.lock` | ä¾èµ–é”å®š |
| ä¿®æ”¹ | `CLAUDE.md` | é¡¹ç›®æ–‡æ¡£ |

### è¿ç§»çŠ¶æ€æ€»ç»“

| æ¨¡å— | Firebase (åŸ) | CloudBase (æ–°) | çŠ¶æ€ |
|------|---------------|----------------|------|
| è®¤è¯æœåŠ¡ | Firebase Auth | CloudBase HTTP API | âœ… å·²å®Œæˆ |
| æ•°æ®åº“ | Firestore | CloudBase MySQLï¼ˆå…³ç³»å‹æ•°æ®åº“ï¼‰ | âœ… å·²å®Œæˆ |
| å­˜å‚¨æœåŠ¡ | Firebase Storage | è…¾è®¯äº‘ COS | âœ… å·²å®Œæˆ |
| åº”ç”¨åˆå§‹åŒ– | Firebase.initializeApp | CloudBase HTTP | âœ… å·²å®Œæˆ |

### åŠŸèƒ½çŠ¶æ€æ€»ç»“

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| æ‰‹æœºéªŒè¯ç ç™»å½• | âœ… å®Œæˆ | CloudBase HTTP API |
| é‚®ç®±å¯†ç ç™»å½• | âœ… å®Œæˆ | CloudBase HTTP API |
| åŒ¿åç™»å½• | âœ… å®Œæˆ | CloudBase HTTP API |
| Token è‡ªåŠ¨åˆ·æ–° | âœ… å®Œæˆ | æœ¬åœ°æŒä¹…åŒ– + è‡ªåŠ¨åˆ·æ–° |
| ç”¨æˆ·æ•°æ® CRUD | âœ… å®Œæˆ | CloudBase æ–‡æ¡£æ•°æ®åº“ |
| å® ç‰©æ•°æ® CRUD | âœ… å®Œæˆ | CloudBase æ–‡æ¡£æ•°æ®åº“ |
| èƒŒåŒ…ç³»ç»Ÿ | âœ… å®Œæˆ | CloudBase æ–‡æ¡£æ•°æ®åº“ |
| ç­¾åˆ°ç³»ç»Ÿ | âœ… å®Œæˆ | CloudBase æ–‡æ¡£æ•°æ®åº“ |
| æˆå°±ç³»ç»Ÿ | âœ… å®Œæˆ | CloudBase æ–‡æ¡£æ•°æ®åº“ |
| å›¾ç‰‡ä¸Šä¼  | âœ… å®Œæˆ | è…¾è®¯äº‘ COS |

### ä»£ç å˜æ›´ç»Ÿè®¡

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| ä¿®æ”¹æ–‡ä»¶æ•° | 32 |
| æ–°å¢ä»£ç è¡Œ | ~1693 |
| åˆ é™¤ä»£ç è¡Œ | ~1778 |
| å‡€å˜åŒ– | -85 è¡Œï¼ˆä»£ç æ›´ç²¾ç®€ï¼‰ |

### âš ï¸ é‡è¦è¯´æ˜

1. **Firebase å®Œå…¨ç§»é™¤**ï¼šé¡¹ç›®ä¸å†ä¾èµ–ä»»ä½• Firebase æœåŠ¡
2. **HTTP API æ–¹å¼**ï¼šFlutter åŸç”Ÿåº”ç”¨å¿…é¡»ä½¿ç”¨ HTTP APIï¼Œä¸èƒ½ä½¿ç”¨ CloudBase SDK
3. **æ‰‹æœºå·æ ¼å¼**ï¼šå¿…é¡»åŒ…å«å›½å®¶ç å’Œç©ºæ ¼ï¼Œå¦‚ `+86 13800138000`
4. **Token æŒä¹…åŒ–**ï¼šè®¤è¯çŠ¶æ€é€šè¿‡ SharedPreferences æœ¬åœ°å­˜å‚¨

### åç»­è®¡åˆ’

| ä¼˜å…ˆçº§ | ä»»åŠ¡ | è¯´æ˜ |
|--------|------|------|
| P1 | å®Œæ•´æµ‹è¯• | å…¨æµç¨‹åŠŸèƒ½æµ‹è¯• |
| P1 | é”™è¯¯å¤„ç†ä¼˜åŒ– | ç½‘ç»œé”™è¯¯ã€Token è¿‡æœŸå¤„ç† |
| P2 | STS ä¸´æ—¶å¯†é’¥ | COS ä¸Šä¼ å®‰å…¨ä¼˜åŒ– |
| P2 | äº‘å‡½æ•°è¿ç§» | å¦‚æœ‰éœ€è¦ |
| P3 | æ¨é€é€šçŸ¥æ–¹æ¡ˆ | é€‰æ‹©è…¾è®¯äº‘æˆ–ç¬¬ä¸‰æ–¹ |

---

## 2026-02-04 å¼€å‘æ—¥å¿—ï¼ˆCloudBase è¿ç§»æ–‡æ¡£æ•´ç†ï¼‰

### æ¦‚è¿°

æœ¬æ¬¡å¼€å‘å®Œæˆäº†**è…¾è®¯äº‘ CloudBase è¿ç§»æ–‡æ¡£**çš„æ•´ç†å·¥ä½œï¼Œå°† Firebase â†’ CloudBase è¿ç§»çš„å®Œæ•´ä¿¡æ¯è®°å½•åˆ° `CLAUDE.md` ä¸­ï¼Œæ–¹ä¾¿åç»­å¼€å‘æ—¶å¿«é€Ÿäº†è§£è¿ç§»çŠ¶æ€å’Œ CloudBase å¼€å‘æŒ‡å—ã€‚

### å®Œæˆäº‹é¡¹

#### Phase 1: CloudBase è¿ç§»ä¿¡æ¯æ”¶é›† âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| è¯»å– CloudBase Skills | `cloudbase-guidelines`ã€`http-api-cloudbase` | âœ… |
| åˆ†æç°æœ‰ CloudBase ä»£ç  | è®¤è¯æœåŠ¡ã€æ•°æ®åº“æœåŠ¡ã€é…ç½®æ–‡ä»¶ | âœ… |
| è¯†åˆ«å¾…è¿ç§» Firebase æ–‡ä»¶ | 13 ä¸ªæ–‡ä»¶ä»ä½¿ç”¨ Firebase | âœ… |
| æ•´ç† COS å­˜å‚¨æœåŠ¡ | å·²å®Œæˆçš„ COS å®ç° | âœ… |

#### Phase 2: CLAUDE.md æ–‡æ¡£æ›´æ–° âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| æ·»åŠ è¿ç§»è®¡åˆ’ç« èŠ‚ | å®Œæ•´çš„è¿ç§»å¯¹ç…§è¡¨ | âœ… |
| è®°å½•ç¯å¢ƒä¿¡æ¯ | envIdã€regionã€apiBaseUrl | âœ… |
| å·²å®ŒæˆæœåŠ¡æ–‡æ¡£ | è®¤è¯ã€æ•°æ®åº“ã€å­˜å‚¨ | âœ… |
| å¾…è¿ç§»æ–‡ä»¶æ¸…å• | 13 ä¸ª Firebase ç›¸å…³æ–‡ä»¶ | âœ… |
| CloudBase å¼€å‘æŒ‡å— | Skills å‚è€ƒã€API ç«¯ç‚¹ã€æ³¨æ„äº‹é¡¹ | âœ… |
| æ§åˆ¶å°å…¥å£é“¾æ¥ | 5 ä¸ªå¸¸ç”¨æ§åˆ¶å°é¡µé¢ | âœ… |

### æ–°å¢/ä¿®æ”¹æ–‡ä»¶æ¸…å•

| æ“ä½œ | æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
|------|----------|------|
| ä¿®æ”¹ | `CLAUDE.md` | æ–°å¢ CloudBase è¿ç§»è®¡åˆ’ç« èŠ‚ï¼ˆ+188 è¡Œï¼‰ |

### CloudBase è¿ç§»çŠ¶æ€æ€»ç»“

| æ¨¡å— | Firebase (åŸ) | CloudBase (æ–°) | çŠ¶æ€ |
|------|---------------|----------------|------|
| è®¤è¯æœåŠ¡ | Firebase Auth | CloudBase HTTP API Auth | âœ… å·²å®Œæˆ |
| æ•°æ®åº“ | Firestore | CloudBase æ–‡æ¡£æ•°æ®åº“ | âœ… å·²å®Œæˆ |
| å­˜å‚¨æœåŠ¡ | Firebase Storage | è…¾è®¯äº‘ COS | âœ… å·²å®Œæˆ |
| äº‘å‡½æ•° | Cloud Functions | CloudBase äº‘å‡½æ•° | ğŸ“‹ å¾…è¿ç§» |
| æ¨é€é€šçŸ¥ | FCM | å¾…å®š | ğŸ“‹ å¾…è¿ç§» |

### å¾…è¿ç§» Firebase æ–‡ä»¶

| æ–‡ä»¶è·¯å¾„ | ä½¿ç”¨çš„æœåŠ¡ | ä¼˜å…ˆçº§ |
|----------|-----------|--------|
| `lib/main.dart` | Firebase åˆå§‹åŒ– | é«˜ |
| `lib/services/auth_service.dart` | Firebase Auth | ä¸­ |
| `lib/services/firestore_service.dart` | Firestore | ä¸­ |
| `lib/providers/auth_provider.dart` | Firebase Auth | ä¸­ |
| `lib/services/check_in_service.dart` | Firestore | ä¸­ |
| `lib/services/ai_generation_service.dart` | Firebase Storage | ä½ |

### åŠŸèƒ½çŠ¶æ€æ€»ç»“

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| CloudBase è®¤è¯ (HTTP API) | âœ… å®Œæˆ | æ”¯æŒæ‰‹æœº/é‚®ç®±/åŒ¿å/OAuth |
| CloudBase æ•°æ®åº“ (SDK) | âœ… å®Œæˆ | ç”¨æˆ·ã€å® ç‰©ã€èƒŒåŒ…ã€æˆå°± CRUD |
| è…¾è®¯äº‘ COS å­˜å‚¨ | âœ… å®Œæˆ | å›¾ç‰‡ä¸Šä¼ /åˆ é™¤ |
| è¿ç§»æ–‡æ¡£æ•´ç† | âœ… å®Œæˆ | CLAUDE.md æ›´æ–° |

### åç»­è®¡åˆ’

| ä¼˜å…ˆçº§ | ä»»åŠ¡ | è¯´æ˜ |
|--------|------|------|
| P1 | åˆ‡æ¢ main.dart åˆå§‹åŒ– | ä» Firebase åˆ‡æ¢åˆ° CloudBase |
| P1 | ç»Ÿä¸€è®¤è¯ Provider | ä½¿ç”¨ CloudBase HTTP Auth |
| P2 | äº‘å‡½æ•°è¿ç§» | å¦‚æœ‰éœ€è¦ |
| P2 | æ¨é€é€šçŸ¥æ–¹æ¡ˆ | é€‰æ‹©è…¾è®¯äº‘æˆ–ç¬¬ä¸‰æ–¹ |

---

## 2026-02-04 å¼€å‘æ—¥å¿—ï¼ˆè…¾è®¯äº‘ COS å­˜å‚¨æœåŠ¡ï¼‰

### æ¦‚è¿°

æœ¬æ¬¡å¼€å‘å°†ç…§ç‰‡ä¸Šä¼ æœåŠ¡ä» Firebase Storage è¿ç§»åˆ°**è…¾è®¯äº‘ COSï¼ˆå¯¹è±¡å­˜å‚¨ï¼‰**ï¼Œè§£å†³äº† Firebase Storage éœ€è¦ Blaze ä»˜è´¹è®¡åˆ’çš„é™åˆ¶é—®é¢˜ã€‚å®ç°äº†å®Œæ•´çš„å›¾ç‰‡é€‰æ‹©ã€è£å‰ªã€ä¸Šä¼ æµç¨‹ã€‚

### å®Œæˆäº‹é¡¹

#### Phase 1: è…¾è®¯äº‘ COS é›†æˆ âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| COS SDK é›†æˆ | æ·»åŠ  `tencentcloud_cos_sdk_plugin` ä¾èµ– | âœ… |
| CosConfig é…ç½®ç±» | å­˜å‚¨æ¡¶ã€åœ°åŸŸã€å¯†é’¥é…ç½® | âœ… |
| COS åˆå§‹åŒ– | PlainSecret è®¤è¯æ–¹å¼åˆå§‹åŒ– | âœ… |
| TransferManager | æ³¨å†Œé»˜è®¤ä¼ è¾“ç®¡ç†å™¨ | âœ… |

**æ–°å¢æ–‡ä»¶ï¼š**
- `lib/config/cos_config.dart` - COS é…ç½®ç±»ï¼ˆ31è¡Œï¼‰

**ä¾èµ–æ›´æ–°ï¼š**
```yaml
dependencies:
  tencentcloud_cos_sdk_plugin: ^1.0.8
```

#### Phase 2: StorageService é‡æ„ âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| å›¾ç‰‡é€‰æ‹© | `pickImage()` - ç›¸æœº/ç›¸å†Œé€‰æ‹© | âœ… |
| å›¾ç‰‡è£å‰ª | `cropImage()` - 1:1 è£å‰ªæ”¯æŒ | âœ… |
| å® ç‰©ç…§ç‰‡ä¸Šä¼  | `uploadPetPhoto()` - ä¸Šä¼ åˆ° pets/{userId}/photos | âœ… |
| å® ç‰©å¤´åƒä¸Šä¼  | `uploadPetAvatar()` - ä¸Šä¼ åˆ° pets/{userId}/avatars | âœ… |
| ç”¨æˆ·å¤´åƒä¸Šä¼  | `uploadUserAvatar()` - ä¸Šä¼ åˆ° users/{userId} | âœ… |
| å›¾ç‰‡åˆ é™¤ | `deleteImage()` - æ ¹æ® URL åˆ é™¤ COS å¯¹è±¡ | âœ… |
| ä¸€ç«™å¼æ–¹æ³• | `pickCropAndUploadPetPhoto()` - é€‰æ‹©+è£å‰ª+ä¸Šä¼  | âœ… |
| ä¸Šä¼ è¿›åº¦å›è°ƒ | `UploadProgressCallback` ç±»å‹å®šä¹‰ | âœ… |

**ä¿®æ”¹æ–‡ä»¶ï¼š**
- `lib/services/storage_service.dart` - å®Œå…¨é‡å†™ä¸º COS å®ç°ï¼ˆ367è¡Œï¼Œ+125/-31ï¼‰

### æ–°å¢/ä¿®æ”¹æ–‡ä»¶æ¸…å•

| æ“ä½œ | æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
|------|----------|------|
| æ–°å»º | `lib/config/cos_config.dart` | è…¾è®¯äº‘ COS é…ç½® |
| ä¿®æ”¹ | `lib/services/storage_service.dart` | é‡æ„ä¸º COS å®ç° |
| ä¿®æ”¹ | `pubspec.yaml` | æ·»åŠ  COS SDK ä¾èµ– |
| ä¿®æ”¹ | `pubspec.lock` | ä¾èµ–é”å®šæ–‡ä»¶æ›´æ–° |

### COS å­˜å‚¨è·¯å¾„è®¾è®¡

| ç±»å‹ | è·¯å¾„æ ¼å¼ | ç¤ºä¾‹ |
|------|----------|------|
| å® ç‰©ç…§ç‰‡ | `pets/{userId}/photos/{uuid}.jpg` | `pets/abc123/photos/xxx.jpg` |
| å® ç‰©å¤´åƒ | `pets/{userId}/avatars/{petId}.jpg` | `pets/abc123/avatars/pet1.jpg` |
| ç”¨æˆ·å¤´åƒ | `users/{userId}/avatar.jpg` | `users/abc123/avatar.jpg` |

### åŠŸèƒ½çŠ¶æ€æ€»ç»“

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| å›¾ç‰‡é€‰æ‹©ï¼ˆç›¸æœºï¼‰ | âœ… å®Œæˆ | ImagePicker é›†æˆ |
| å›¾ç‰‡é€‰æ‹©ï¼ˆç›¸å†Œï¼‰ | âœ… å®Œæˆ | ImagePicker é›†æˆ |
| å›¾ç‰‡è£å‰ª | âœ… å®Œæˆ | ImageCropper 1:1 è£å‰ª |
| COS ä¸Šä¼  | âœ… å®Œæˆ | TransferManager å¼‚æ­¥ä¸Šä¼  |
| ä¸Šä¼ è¿›åº¦ | âœ… å®Œæˆ | progressCallBack å›è°ƒ |
| å›¾ç‰‡åˆ é™¤ | âœ… å®Œæˆ | COS deleteObject API |

### âš ï¸ å®‰å…¨æé†’

å½“å‰é…ç½®ä½¿ç”¨å›ºå®šå¯†é’¥ï¼ˆSecretId/SecretKeyï¼‰ï¼Œä»…ç”¨äºå¼€å‘æµ‹è¯•ï¼š

```dart
// TODO: ç”Ÿäº§ç¯å¢ƒåº”è¿ç§»è‡³ STS ä¸´æ—¶å¯†é’¥
static const String secretKey = 'xxx...';
```

**ç”Ÿäº§ç¯å¢ƒå»ºè®®ï¼š**
1. ä½¿ç”¨ STS ä¸´æ—¶å¯†é’¥æœåŠ¡
2. å°†å¯†é’¥ç§»è‡³åç«¯æœåŠ¡
3. ä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®

### åç»­è®¡åˆ’

| ä¼˜å…ˆçº§ | ä»»åŠ¡ | è¯´æ˜ |
|--------|------|------|
| P0 | é›†æˆåˆ°å® ç‰©åˆ›å»ºæµç¨‹ | PetCreatePage è°ƒç”¨ COS ä¸Šä¼  |
| P1 | STS ä¸´æ—¶å¯†é’¥ | ç”Ÿäº§ç¯å¢ƒå®‰å…¨æ–¹æ¡ˆ |
| P1 | å¤´åƒæ›´æ–°åŠŸèƒ½ | PetRoomPage é•¿æŒ‰æ›´æ–°å¤´åƒ |
| P2 | å›¾ç‰‡å‹ç¼©ä¼˜åŒ– | å‡å°‘ä¸Šä¼ ä½“ç§¯ |

---

## 2026-02-03 å¼€å‘æ—¥å¿—ï¼ˆå•†åº— + ç­¾åˆ° + å® ç‰©æ”¾ç”Ÿï¼‰

### æ¦‚è¿°

æœ¬æ¬¡å¼€å‘å®Œæˆäº†**é“å…·å•†åº—ç³»ç»Ÿ**ã€**æ¯æ—¥ç­¾åˆ°ç³»ç»Ÿ**å’Œ**å® ç‰©æ”¾ç”ŸåŠŸèƒ½**çš„å®Œæ•´å®ç°ï¼ŒåŒ…æ‹¬å•†åº—é¡µé¢ UIã€ç­¾åˆ°å¯¹è¯æ¡†ã€å¥–åŠ±å‘æ”¾é€»è¾‘ã€æ”¾ç”Ÿç¡®è®¤å¯¹è¯æ¡†ç­‰ã€‚åŒæ—¶å®Œå–„äº†ä¹‹å‰é—ç•™çš„ç…§ç‰‡ä¸Šä¼ ç›¸å…³åŠŸèƒ½ã€‚

### å®Œæˆäº‹é¡¹

#### Phase 1: é“å…·å•†åº—ç³»ç»Ÿ âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| ShopPage å•†åº—é¡µé¢ | å®Œæ•´å•†åº— UIï¼ŒTabBar åˆ†ç±»ï¼ˆé£Ÿç‰©/é“å…·/é…é¥°ï¼‰ | âœ… |
| è´§å¸æ æ˜¾ç¤º | æ˜¾ç¤ºç”¨æˆ·é‡‘å¸ã€é’»çŸ³ä½™é¢ | âœ… |
| å•†å“å¡ç‰‡ | æ˜¾ç¤ºå•†å“å›¾æ ‡ã€åç§°ã€ç¨€æœ‰åº¦ã€ä»·æ ¼ | âœ… |
| å•†å“è¯¦æƒ…å¼¹çª— | æ˜¾ç¤ºæ•ˆæœè¯´æ˜ã€è´­ä¹°æŒ‰é’® | âœ… |
| è´­ä¹°é€»è¾‘ | æ‰£é™¤è´§å¸ã€æ·»åŠ é“å…·åˆ°èƒŒåŒ… | âœ… |
| ItemDefinitions æ‰©å±• | æ·»åŠ  `getItemsByCategory()` æ–¹æ³• | âœ… |
| UserNotifier.purchaseItem | è´­ä¹°é“å…·æ‰£æ¬¾æ–¹æ³• | âœ… |

**æ–°å¢æ–‡ä»¶ï¼š**
- `lib/presentation/pages/shop/shop_page.dart` - å•†åº—é¡µé¢ï¼ˆ650è¡Œï¼‰

#### Phase 2: æ¯æ—¥ç­¾åˆ°ç³»ç»Ÿ âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| CheckInService | ç­¾åˆ°æœåŠ¡ï¼Œ7å¤©å¾ªç¯å¥–åŠ±é…ç½® | âœ… |
| CheckInProvider | ç­¾åˆ°çŠ¶æ€ç®¡ç† Notifier | âœ… |
| CheckInDialog | ç­¾åˆ°å¯¹è¯æ¡† UIï¼Œ7å¤©å¥–åŠ±å±•ç¤º | âœ… |
| å¥–åŠ±é…ç½® | é‡‘å¸é€’å¢ + ç¬¬7å¤©å¤§ç¤¼åŒ…ï¼ˆé’»çŸ³+é“å…·ï¼‰ | âœ… |
| è¿ç»­ç­¾åˆ°è®¡ç®— | æ”¯æŒæ–­ç­¾é‡ç½®ã€7å¤©å¾ªç¯ | âœ… |
| Firestore äº‹åŠ¡ | åŸå­æ›´æ–°ç­¾åˆ°æ•°æ®å’Œå¥–åŠ± | âœ… |
| è°ƒè¯•é‡ç½®åŠŸèƒ½ | å¼€å‘æ—¶é‡ç½®ç­¾åˆ°çŠ¶æ€ | âœ… |

**æ–°å¢æ–‡ä»¶ï¼š**
- `lib/services/check_in_service.dart` - ç­¾åˆ°æœåŠ¡ï¼ˆ211è¡Œï¼‰
- `lib/providers/check_in_provider.dart` - ç­¾åˆ°çŠ¶æ€ç®¡ç†ï¼ˆ157è¡Œï¼‰
- `lib/presentation/pages/home/check_in_dialog.dart` - ç­¾åˆ°å¯¹è¯æ¡†ï¼ˆ453è¡Œï¼‰

**å¥–åŠ±é…ç½®ï¼š**
| å¤©æ•° | é‡‘å¸ | é’»çŸ³ | é“å…· |
|------|------|------|------|
| ç¬¬1å¤© | 50 | - | - |
| ç¬¬2å¤© | 80 | - | - |
| ç¬¬3å¤© | 100 | - | å°é±¼å¹² x2 |
| ç¬¬4å¤© | 120 | - | - |
| ç¬¬5å¤© | 150 | - | çŒ«é›¶é£Ÿ x2 |
| ç¬¬6å¤© | 180 | - | - |
| ç¬¬7å¤© | 300 | 10 | é«˜çº§é±¼å¹² x1, åˆ·å­ x1 |

#### Phase 3: å® ç‰©æ”¾ç”ŸåŠŸèƒ½ âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| ReleaseConfirmDialog | æ”¾ç”Ÿç¡®è®¤å¯¹è¯æ¡†ï¼ŒäºŒæ¬¡ç¡®è®¤æœºåˆ¶ | âœ… |
| åç§°è¾“å…¥éªŒè¯ | éœ€è¾“å…¥å® ç‰©åç§°æ‰èƒ½ç¡®è®¤ | âœ… |
| å® ç‰©ä¿¡æ¯æ˜¾ç¤º | æ˜¾ç¤ºå¤´åƒã€åç§°ã€ç­‰çº§ã€ç‰©ç§ | âœ… |
| PetProvider.releasePet | æ”¾ç”Ÿå® ç‰©æ–¹æ³•ï¼ˆåˆ é™¤ Firestore æ•°æ®ï¼‰ | âœ… |

**æ–°å¢æ–‡ä»¶ï¼š**
- `lib/presentation/widgets/pet/release_confirm_dialog.dart` - æ”¾ç”Ÿç¡®è®¤å¯¹è¯æ¡†ï¼ˆ279è¡Œï¼‰

#### Phase 4: è·¯ç”±ä¸é›†æˆ âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| å•†åº—è·¯ç”± | `/shop` è·¯ç”±é…ç½® | âœ… |
| PetRoomPage ç­¾åˆ°å…¥å£ | é¡¶éƒ¨æ æ·»åŠ ç­¾åˆ°æŒ‰é’® | âœ… |
| ProfilePage å•†åº—å…¥å£ | ä¸ªäººä¸­å¿ƒæ·»åŠ å•†åº—å…¥å£ | âœ… |

### æ–°å¢/ä¿®æ”¹æ–‡ä»¶æ¸…å•

| æ“ä½œ | æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
|------|----------|------|
| æ–°å»º | `lib/presentation/pages/shop/shop_page.dart` | å•†åº—é¡µé¢ |
| æ–°å»º | `lib/services/check_in_service.dart` | ç­¾åˆ°æœåŠ¡ |
| æ–°å»º | `lib/providers/check_in_provider.dart` | ç­¾åˆ°çŠ¶æ€ç®¡ç† |
| æ–°å»º | `lib/presentation/pages/home/check_in_dialog.dart` | ç­¾åˆ°å¯¹è¯æ¡† |
| æ–°å»º | `lib/presentation/widgets/pet/release_confirm_dialog.dart` | æ”¾ç”Ÿç¡®è®¤å¯¹è¯æ¡† |
| æ–°å»º | `lib/presentation/widgets/pet/pet_selector.dart` | å® ç‰©åˆ‡æ¢æ  |
| æ–°å»º | `lib/data/models/item_definitions.dart` | é“å…·å®šä¹‰é…ç½® |
| æ–°å»º | `lib/services/storage_service.dart` | å­˜å‚¨æœåŠ¡ |
| ä¿®æ”¹ | `lib/presentation/router/app_router.dart` | æ·»åŠ å•†åº—è·¯ç”± |
| ä¿®æ”¹ | `lib/providers/user_provider.dart` | æ·»åŠ  purchaseItem æ–¹æ³• |
| ä¿®æ”¹ | `lib/providers/inventory_provider.dart` | å®Œå–„èƒŒåŒ…é€»è¾‘ |
| ä¿®æ”¹ | `lib/providers/pet_provider.dart` | æ·»åŠ  releasePet æ–¹æ³• |
| ä¿®æ”¹ | `lib/services/firestore_service.dart` | ç­¾åˆ°æ•°æ®æ“ä½œ |
| ä¿®æ”¹ | `lib/services/ai_generation_service.dart` | AI æœåŠ¡å®Œå–„ |
| ä¿®æ”¹ | `lib/presentation/pages/home/pet_room_page.dart` | ç­¾åˆ°å…¥å£é›†æˆ |
| ä¿®æ”¹ | `lib/presentation/pages/profile/profile_page.dart` | å•†åº—å…¥å£ |

### åŠŸèƒ½çŠ¶æ€æ€»ç»“

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| é“å…·å•†åº— | âœ… å®Œæˆ | å®Œæ•´è´­ä¹°æµç¨‹ |
| å•†å“åˆ†ç±» | âœ… å®Œæˆ | é£Ÿç‰©/é“å…·/é…é¥° ä¸‰ç±» |
| æ¯æ—¥ç­¾åˆ° | âœ… å®Œæˆ | 7å¤©å¾ªç¯å¥–åŠ± |
| è¿ç»­ç­¾åˆ°å¥–åŠ± | âœ… å®Œæˆ | é€’å¢é‡‘å¸ + ç¬¬7å¤©å¤§ç¤¼åŒ… |
| å® ç‰©æ”¾ç”Ÿ | âœ… å®Œæˆ | äºŒæ¬¡ç¡®è®¤æœºåˆ¶ |
| å® ç‰©åˆ‡æ¢ | âœ… å®Œæˆ | å¤šå® ç‰©ç®¡ç† |

### åç»­è®¡åˆ’

| ä¼˜å…ˆçº§ | ä»»åŠ¡ | è¯´æ˜ |
|--------|------|------|
| P1 | Firebase Storage å¯ç”¨ | å‡çº§ Blaze è®¡åˆ’åå¯ç”¨ç…§ç‰‡ä¸Šä¼  |
| P1 | Rive åŠ¨ç”»å‡çº§ | æ›¿æ¢é™æ€å›¾æ ‡ä¸ºåŠ¨ç”» |
| P2 | æˆå°±ç³»ç»Ÿ | è§£é”æˆå°±è·å–å¥–åŠ± |
| P2 | ç¤¾åŒºåŠŸèƒ½ | åŠ¨æ€å‘å¸ƒã€ç‚¹èµè¯„è®º |
| P3 | AI å¡é€šå½¢è±¡ç”Ÿæˆ | Replicate API é›†æˆ |

---

## 2026-02-03 å¼€å‘æ—¥å¿—ï¼ˆç…§ç‰‡ä¸Šä¼ åŠŸèƒ½ï¼‰

### æ¦‚è¿°

æœ¬æ¬¡å¼€å‘å®Œæˆäº†ç…§ç‰‡ä¸Šä¼ åŠŸèƒ½çš„**ä»£ç å®ç°**ï¼ŒåŒ…æ‹¬ç…§ç‰‡é€‰æ‹©ã€è£å‰ªã€é¢„è§ˆç­‰å®Œæ•´ UI æµç¨‹ã€‚ä½†ç”±äº Firebase Storage éœ€è¦ Blaze ä»˜è´¹è®¡åˆ’ï¼Œç…§ç‰‡ä¸Šä¼ åˆ°äº‘ç«¯åŠŸèƒ½**æš‚æ—¶è·³è¿‡**ï¼Œå¾…åç»­å¯ç”¨ã€‚

### å®Œæˆäº‹é¡¹

#### Phase 1: Provider å±‚å®ç° âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| PhotoUploadProvider | ç…§ç‰‡ä¸Šä¼ çŠ¶æ€ç®¡ç†ï¼ˆé€‰æ‹©ã€è£å‰ªã€ä¸Šä¼ è¿›åº¦ï¼‰ | âœ… |
| StorageService Provider | å·²å­˜åœ¨äº `storage_service.dart` | âœ… |

**æ–°å¢æ–‡ä»¶ï¼š**
- `lib/providers/photo_upload_provider.dart` - ç…§ç‰‡ä¸Šä¼ çŠ¶æ€ç®¡ç†

**PhotoUploadState å­—æ®µï¼š**
```dart
@freezed
class PhotoUploadState {
  File? selectedFile;      // é€‰ä¸­çš„æ–‡ä»¶
  File? croppedFile;       // è£å‰ªåçš„æ–‡ä»¶
  bool isUploading;        // æ˜¯å¦æ­£åœ¨ä¸Šä¼ 
  double progress;         // ä¸Šä¼ è¿›åº¦ (0.0 - 1.0)
  String? uploadedUrl;     // ä¸Šä¼ åçš„ URL
  String? error;           // é”™è¯¯ä¿¡æ¯
}
```

#### Phase 2: UI ç»„ä»¶å®ç° âœ…

| ç»„ä»¶ | æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|------|
| PhotoPickerSheet | `photo_picker_sheet.dart` | ç…§ç‰‡æ¥æºé€‰æ‹©åº•éƒ¨å¼¹çª—ï¼ˆç›¸æœº/ç›¸å†Œï¼‰ |
| PhotoPreviewDialog | `photo_preview_dialog.dart` | ç…§ç‰‡é¢„è§ˆç¡®è®¤å¯¹è¯æ¡†ï¼ˆå«ä¸Šä¼ è¿›åº¦ï¼‰ |

**æ–°å¢æ–‡ä»¶ï¼š**
- `lib/presentation/widgets/photo/photo_picker_sheet.dart`
- `lib/presentation/widgets/photo/photo_preview_dialog.dart`

#### Phase 3: å® ç‰©åˆ›å»ºæµç¨‹é›†æˆ âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| PetCreatePage ç…§ç‰‡é€‰æ‹© | ç‚¹å‡»"ä¸Šä¼ å® ç‰©ç…§ç‰‡"è§¦å‘é€‰æ‹©æµç¨‹ | âœ… |
| ç…§ç‰‡é¢„è§ˆæ˜¾ç¤º | é€‰ä¸­åæ˜¾ç¤ºç¼©ç•¥å›¾å’Œæ¸…é™¤æŒ‰é’® | âœ… |
| ä¸Šä¼ åŠŸèƒ½ | â¸ï¸ æš‚æ—¶è·³è¿‡ï¼ˆéœ€ Firebase Blaze è®¡åˆ’ï¼‰ | â¸ï¸ |

#### Phase 4: ç°æœ‰å® ç‰©ç…§ç‰‡æ›´æ–° âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| InteractivePetWidget æ”¹é€  | æ”¯æŒæ˜¾ç¤ºçœŸå®ç…§ç‰‡ã€æ·»åŠ  onAvatarTap å›è°ƒ | âœ… |
| PetRoomPage å¤´åƒæ›´æ–° | é•¿æŒ‰å® ç‰©å¤´åƒè§¦å‘ç…§ç‰‡æ›´æ–°æµç¨‹ | âœ… |
| PetInteractionNotifier.updatePetPhoto | æ›´æ–°å® ç‰©ç…§ç‰‡æ–¹æ³• | âœ… |

#### Phase 5: æƒé™é…ç½® âœ…

| å¹³å° | é…ç½® | çŠ¶æ€ |
|------|------|------|
| Android | CAMERA, READ_EXTERNAL_STORAGE, WRITE_EXTERNAL_STORAGE, READ_MEDIA_IMAGES | âœ… |
| Android | UCropActivity å£°æ˜ | âœ… |
| iOS | NSCameraUsageDescription, NSPhotoLibraryUsageDescription | âœ… |

### æ–°å¢/ä¿®æ”¹æ–‡ä»¶æ¸…å•

| æ“ä½œ | æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
|------|----------|------|
| æ–°å»º | `lib/providers/photo_upload_provider.dart` | ç…§ç‰‡ä¸Šä¼ çŠ¶æ€ç®¡ç† |
| æ–°å»º | `lib/presentation/widgets/photo/photo_picker_sheet.dart` | ç…§ç‰‡æ¥æºé€‰æ‹©å¼¹çª— |
| æ–°å»º | `lib/presentation/widgets/photo/photo_preview_dialog.dart` | ç…§ç‰‡é¢„è§ˆå¯¹è¯æ¡† |
| ä¿®æ”¹ | `lib/presentation/pages/pet/pet_create_page.dart` | é›†æˆç…§ç‰‡é€‰æ‹©åŠŸèƒ½ |
| ä¿®æ”¹ | `lib/providers/pet_provider.dart` | æ·»åŠ  updatePetPhoto æ–¹æ³• |
| ä¿®æ”¹ | `lib/presentation/widgets/pet/interactive_pet_widget.dart` | æ”¯æŒç…§ç‰‡æ˜¾ç¤ºå’Œå¤´åƒç‚¹å‡» |
| ä¿®æ”¹ | `lib/presentation/pages/home/pet_room_page.dart` | é›†æˆå¤´åƒæ›´æ–°åŠŸèƒ½ |
| ä¿®æ”¹ | `android/app/src/main/AndroidManifest.xml` | ç›¸æœº/å­˜å‚¨æƒé™ + UCropActivity |
| ä¿®æ”¹ | `ios/Runner/Info.plist` | ç›¸æœº/ç›¸å†Œæƒé™è¯´æ˜ |

### åŠŸèƒ½çŠ¶æ€æ€»ç»“

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| ç…§ç‰‡é€‰æ‹©ï¼ˆç›¸æœºï¼‰ | âœ… å®Œæˆ | è°ƒç”¨ç³»ç»Ÿç›¸æœºæ‹ç…§ |
| ç…§ç‰‡é€‰æ‹©ï¼ˆç›¸å†Œï¼‰ | âœ… å®Œæˆ | ä»ç›¸å†Œé€‰æ‹©å›¾ç‰‡ |
| ç…§ç‰‡è£å‰ªï¼ˆ1:1ï¼‰ | âœ… å®Œæˆ | UCrop è£å‰ªç»„ä»¶ |
| ç…§ç‰‡é¢„è§ˆ | âœ… å®Œæˆ | æ˜¾ç¤ºè£å‰ªåé¢„è§ˆ |
| ç…§ç‰‡æ¸…é™¤/é‡é€‰ | âœ… å®Œæˆ | æ”¯æŒæ¸…é™¤å’Œé‡æ–°é€‰æ‹© |
| ç…§ç‰‡ä¸Šä¼ åˆ° Storage | â¸ï¸ æš‚åœ | éœ€è¦ Firebase Blaze è®¡åˆ’ |
| å® ç‰©åˆ›å»ºï¼ˆæ— ç…§ç‰‡ï¼‰ | âœ… å®Œæˆ | ä½¿ç”¨é¢„è®¾å½¢è±¡åˆ›å»º |
| å¤´åƒæ›´æ–°ï¼ˆé•¿æŒ‰ï¼‰ | â¸ï¸ æš‚åœ | UI å®Œæˆï¼Œä¸Šä¼ éœ€ Blaze |

### âš ï¸ é‡è¦è¯´æ˜ï¼šFirebase Storage é™åˆ¶

#### é—®é¢˜æè¿°

Firebase Storage éœ€è¦å¯ç”¨ **Blaze ä»˜è´¹è®¡åˆ’**ï¼ˆæŒ‰éœ€ä»˜è´¹ï¼‰æ‰èƒ½ä½¿ç”¨ã€‚å½“å‰é¡¹ç›®ä½¿ç”¨å…è´¹çš„ Spark è®¡åˆ’ï¼Œæ— æ³•ä½¿ç”¨ Storage æœåŠ¡ã€‚

#### é”™è¯¯ä¿¡æ¯

```
[firebase_storage/object-not-found] No object exists at the desired reference.
StorageException: Code: -13010 HttpResult: 404
```

#### ä¸´æ—¶è§£å†³æ–¹æ¡ˆ

åœ¨ `pet_create_page.dart` ä¸­**æš‚æ—¶è·³è¿‡ç…§ç‰‡ä¸Šä¼ **ï¼š
- ç”¨æˆ·ä»å¯é€‰æ‹©å’Œé¢„è§ˆç…§ç‰‡ï¼ˆå®Œæ•´ UI ä½“éªŒï¼‰
- åˆ›å»ºå® ç‰©æ—¶æç¤º"ç…§ç‰‡åŠŸèƒ½æš‚æœªå¼€æ”¾"
- å® ç‰©ä½¿ç”¨é¢„è®¾å½¢è±¡åˆ›å»º

#### åç»­å¯ç”¨æ­¥éª¤

1. **å‡çº§ Firebase è®¡åˆ’**
   - è®¿é—® [Firebase Console](https://console.firebase.google.com/project/cat-club-9b0cb)
   - å‡çº§åˆ° Blaze è®¡åˆ’ï¼ˆæŒ‰éœ€ä»˜è´¹ï¼Œæœ‰å…è´¹é¢åº¦ï¼‰

2. **å¯ç”¨ Storage æœåŠ¡**
   - Build â†’ Storage â†’ Get Started
   - é€‰æ‹© Storage ä½ç½®

3. **é…ç½®å®‰å…¨è§„åˆ™**
   ```
   rules_version = '2';
   service firebase.storage {
     match /b/{bucket}/o {
       match /{allPaths=**} {
         allow read, write: if request.auth != null;
       }
     }
   }
   ```

4. **å–æ¶ˆä»£ç æ³¨é‡Š**
   - æ‰“å¼€ `lib/presentation/pages/pet/pet_create_page.dart`
   - æ‰¾åˆ° `_handleCreate()` æ–¹æ³•
   - å–æ¶ˆ `TODO: å¯ç”¨ Blaze è®¡åˆ’åå–æ¶ˆæ³¨é‡Š` ä¸‹æ–¹ä»£ç çš„æ³¨é‡Š
   - æ¢å¤ `originalPhotoUrl: photoUrl` å‚æ•°

#### Firebase Storage å…è´¹é¢åº¦ï¼ˆBlaze è®¡åˆ’ä¸‹ï¼‰

| é¡¹ç›® | å…è´¹é¢åº¦/æœˆ |
|------|-------------|
| å­˜å‚¨ç©ºé—´ | 5 GB |
| ä¸‹è½½æµé‡ | 1 GB/å¤© |
| ä¸Šä¼ æ“ä½œ | 50,000 æ¬¡/å¤© |
| ä¸‹è½½æ“ä½œ | 50,000 æ¬¡/å¤© |

å¯¹äºå¼€å‘æµ‹è¯•å’Œå°å‹åº”ç”¨**å®Œå…¨å¤Ÿç”¨ï¼Œä¸ä¼šäº§ç”Ÿè´¹ç”¨**ã€‚

---

## 2026-02-02 å¼€å‘æ—¥å¿—ï¼ˆèƒŒåŒ…æŒä¹…åŒ– + å¤šå® ç‰©åˆ‡æ¢ï¼‰

### æ¦‚è¿°

æœ¬æ¬¡å¼€å‘å®Œæˆäº†èƒŒåŒ…ç³»ç»ŸæŒä¹…åŒ–å’Œå¤šå® ç‰©åˆ‡æ¢åŠŸèƒ½ï¼Œå°†æœ¬åœ°æ¨¡æ‹ŸèƒŒåŒ…å‡çº§ä¸º Firestore å­˜å‚¨ï¼Œå¹¶å®ç°äº†ç”¨æˆ·å¤šå® ç‰©ç®¡ç†çš„ UI ç»„ä»¶ã€‚å…±å®Œæˆ 8 ä¸ªå¼€å‘ä»»åŠ¡ã€‚

### å®Œæˆäº‹é¡¹

#### Phase 1: çŠ¶æ€è¡°å‡åŒæ­¥ä¼˜åŒ– âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| æ·»åŠ çŠ¶æ€è¡°å‡åŒæ­¥å…¬å¼€æ–¹æ³• | `PetInteractionNotifier.syncDecayedStatusIfNeeded()` ä¾›å¤–éƒ¨è°ƒç”¨ | âœ… |
| æ·»åŠ ç”Ÿå‘½å‘¨æœŸç›‘å¬ | `PetRoomPage` å®ç° `WidgetsBindingObserver`ï¼Œåº”ç”¨å¯åŠ¨/æ¢å¤æ—¶åŒæ­¥è¡°å‡çŠ¶æ€ | âœ… |

**æŠ€æœ¯ç»†èŠ‚ï¼š**
- `_syncStatusOnInit()`: åº”ç”¨å¯åŠ¨æ—¶åŒæ­¥çŠ¶æ€
- `_syncStatusOnResume()`: åº”ç”¨ä»åå°æ¢å¤æ—¶åŒæ­¥çŠ¶æ€
- `didChangeAppLifecycleState()`: ç›‘å¬ `AppLifecycleState.resumed` äº‹ä»¶

#### Phase 2: èƒŒåŒ…æ•°æ®å±‚å®ç° âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| UserModel æ·»åŠ  inventory å­—æ®µ | `Map<String, int>` ç±»å‹ï¼Œå­˜å‚¨é“å…·IDåˆ°æ•°é‡çš„æ˜ å°„ | âœ… |
| FirestoreService èƒŒåŒ… CRUD | `getInventory()`, `addInventoryItem()`, `removeInventoryItem()`, `setInventoryItem()` | âœ… |
| ItemDefinitions é™æ€é…ç½® | é“å…·å®šä¹‰ç±»ï¼ŒåŒ…å«æ‰€æœ‰å¯ç”¨é“å…·çš„é™æ€é…ç½® | âœ… |

**æ–°å¢æ–‡ä»¶ï¼š**
- `lib/data/models/item_definitions.dart` - é“å…·å®šä¹‰é™æ€é…ç½®

**é“å…·é…ç½®ç¤ºä¾‹ï¼š**
```dart
static const Map<String, ItemModel> items = {
  'fish_snack': ItemModel(id: 'fish_snack', name: 'å°é±¼å¹²', ...),
  'premium_can': ItemModel(id: 'premium_can', name: 'é«˜çº§ç½å¤´', ...),
  // ...
};
```

#### Phase 3: èƒŒåŒ… Provider é‡æ„ + å® ç‰©åˆ‡æ¢ âœ…

| ä»»åŠ¡ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| InventoryProvider é‡æ„ | ä»æœ¬åœ°æ¨¡æ‹Ÿæ•°æ®æ”¹ä¸º Firestore æŒä¹…åŒ–å­˜å‚¨ | âœ… |
| PetSelector ç»„ä»¶ | å® ç‰©åˆ‡æ¢æ ï¼Œæ˜¾ç¤ºå¤´åƒåˆ—è¡¨ï¼Œæ”¯æŒç‚¹å‡»åˆ‡æ¢ | âœ… |
| é›†æˆåˆ° PetRoomPage | åœ¨é¡¶éƒ¨æ ä¸‹æ–¹æ·»åŠ å® ç‰©åˆ‡æ¢æ  | âœ… |

**æ–°å¢æ–‡ä»¶ï¼š**
- `lib/presentation/widgets/pet/pet_selector.dart` - å® ç‰©åˆ‡æ¢æ ç»„ä»¶

**PetSelector åŠŸèƒ½ï¼š**
- æ˜¾ç¤ºç”¨æˆ·æ‰€æœ‰å® ç‰©å¤´åƒï¼ˆæœ€å¤š5åªï¼‰
- ç‚¹å‡»å¤´åƒåˆ‡æ¢å½“å‰é€‰ä¸­å® ç‰©
- é€‰ä¸­å® ç‰©æœ‰é«˜äº®è¾¹æ¡†å’Œé˜´å½±æ•ˆæœ
- æœªè¾¾ä¸Šé™æ—¶æ˜¾ç¤ºæ·»åŠ æŒ‰é’®
- æ— å® ç‰©æˆ–ä»…1åªæ—¶è‡ªåŠ¨éšè—

### æ–°å¢/ä¿®æ”¹æ–‡ä»¶æ¸…å•

| æ“ä½œ | æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
|------|----------|------|
| æ–°å»º | `lib/data/models/item_definitions.dart` | é“å…·å®šä¹‰é™æ€é…ç½® |
| æ–°å»º | `lib/presentation/widgets/pet/pet_selector.dart` | å® ç‰©åˆ‡æ¢æ ç»„ä»¶ |
| ä¿®æ”¹ | `lib/data/models/user_model.dart` | æ·»åŠ  inventory å­—æ®µ |
| ä¿®æ”¹ | `lib/services/firestore_service.dart` | æ·»åŠ èƒŒåŒ… CRUD æ–¹æ³• |
| ä¿®æ”¹ | `lib/providers/inventory_provider.dart` | é‡æ„ä¸º Firestore æŒä¹…åŒ– |
| ä¿®æ”¹ | `lib/providers/pet_provider.dart` | æ·»åŠ  `syncDecayedStatusIfNeeded()` å…¬å¼€æ–¹æ³• |
| ä¿®æ”¹ | `lib/presentation/pages/home/pet_room_page.dart` | ç”Ÿå‘½å‘¨æœŸç›‘å¬ + PetSelector é›†æˆ |

### æ•°æ®æµæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PetRoomPage                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  TopBar     â”‚  â”‚ PetSelector â”‚  â”‚ InteractivePetWidgetâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚                     â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚                     â”‚
                           â–¼                     â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ selectedPetIdProviderâ”‚ â”‚petInteractionProviderâ”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚                        â”‚
                        â–¼                        â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚            FirestoreService                â”‚
              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
              â”‚  â”‚ pets     â”‚  â”‚ users    â”‚  â”‚inventory â”‚ â”‚
              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åç»­è®¡åˆ’æ›´æ–°

| ä¼˜å…ˆçº§ | ä»»åŠ¡ | è¯´æ˜ | çŠ¶æ€ |
|--------|------|------|------|
| ~~P0~~ | ~~è¡°å‡çŠ¶æ€åŒæ­¥åˆ° Firestore~~ | ~~åº”ç”¨å¯åŠ¨/æ¢å¤æ—¶åŒæ­¥~~ | âœ… å®Œæˆ |
| ~~P1~~ | ~~èƒŒåŒ…æŒä¹…åŒ–ï¼ˆFirestoreï¼‰~~ | ~~ç”¨æˆ·é“å…·å­˜å‚¨~~ | âœ… å®Œæˆ |
| ~~P1~~ | ~~å¤šå® ç‰©åˆ‡æ¢~~ | ~~PetSelector ç»„ä»¶~~ | âœ… å®Œæˆ |
| P1 | Rive åŠ¨ç”»å‡çº§ | å­¦ä¹  Rive åæ›¿æ¢é™æ€å›¾æ ‡ | â³ |
| P1 | ç…§ç‰‡ä¸Šä¼ åŠŸèƒ½ | ä¸Šä¼ å® ç‰©ç…§ç‰‡åˆ° Firebase Storage | â³ |
| P1 | æ¯æ—¥ç­¾åˆ°ç³»ç»Ÿ | ç­¾åˆ°è·å–å¥–åŠ± | â³ |
| P2 | é“å…·å•†åº— | è´­ä¹°é“å…·åŠŸèƒ½ | â³ |
| P2 | ç”¨æˆ·èµ„æ–™ç¼–è¾‘ | å¤´åƒã€æ˜µç§°ä¿®æ”¹ | â³ |
| P3 | AI å¡é€šå½¢è±¡ç”Ÿæˆ | Replicate API é›†æˆ | â³ |
| P3 | ç¤¾åŒºåŠŸèƒ½ | åŠ¨æ€å‘å¸ƒã€ç‚¹èµè¯„è®º | â³ |

---

## 2026-01-30 å¼€å‘æ—¥å¿—ï¼ˆæ²‰æµ¸å¼å® ç‰©äº¤äº’é‡æ„ï¼‰

### æ¦‚è¿°

æœ¬æ¬¡å¼€å‘å®Œæˆäº†æ²‰æµ¸å¼å® ç‰©äº¤äº’é‡æ„ï¼Œå°†ä¼ ç»ŸæŒ‰é’®å¼äº¤äº’å‡çº§ä¸ºæ‰‹åŠ¿äº¤äº’ä½“éªŒã€‚æ–°å¢ç‚¹å‡»æŠšæ‘¸ã€é•¿æŒ‰ä¼‘æ¯ã€åŒå‡»ç©è€ã€æ‹–æ‹½å–‚é£Ÿ/æ¸…æ´ç­‰äº¤äº’æ–¹å¼ï¼Œæ˜¾è‘—æå‡ç”¨æˆ·æ²‰æµ¸æ„Ÿã€‚

### å®Œæˆäº‹é¡¹

#### 1. InteractivePetWidget å¯äº¤äº’å® ç‰©ç»„ä»¶ âœ…

| åŠŸèƒ½ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| ç‚¹å‡»æŠšæ‘¸ | GestureDetector.onTapï¼Œå¿ƒæƒ…+15ï¼Œäº²å¯†åº¦+10 | âœ… |
| é•¿æŒ‰ä¼‘æ¯ | GestureDetector.onLongPressï¼Œç²¾åŠ›+30 | âœ… |
| åŒå‡»ç©è€ | GestureDetector.onDoubleTapï¼Œå¿ƒæƒ…+20ï¼Œç²¾åŠ›-10 | âœ… |
| æ‹–æ‹½æ¥æ”¶ | DragTarget<ItemModel>ï¼Œæ¥å—é“å…·æ‹–æ”¾ | âœ… |
| åŠ¨ç”»åé¦ˆ | ç¼©æ”¾+å¼¹è·³åŠ¨ç”»ï¼ŒHapticFeedback è§¦æ„Ÿåé¦ˆ | âœ… |
| çŠ¶æ€é©±åŠ¨æ˜¾ç¤º | æ ¹æ®å¿ƒæƒ…/é¥¥é¥¿/è¡Œä¸ºçŠ¶æ€åˆ‡æ¢å›¾æ ‡ | âœ… |
| æ‹–æ‹½é«˜äº® | é“å…·æ‚¬åœæ—¶è¾¹æ¡†é«˜äº®+æç¤ºæ–‡å­— | âœ… |

#### 2. èƒŒåŒ…ç³»ç»Ÿç»„ä»¶ âœ…

| ç»„ä»¶ | æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|------|
| InventoryFAB | `inventory_fab.dart` | èƒŒåŒ…æ‚¬æµ®æŒ‰é’®ï¼Œå¸¦æ—‹è½¬åŠ¨ç”» |
| InventoryPopup | `inventory_popup.dart` | é“å…·é€‰æ‹©å¼¹çª—ï¼ŒæŒ‰ç±»åˆ«åˆ†ç»„ |
| DraggableItemCard | `draggable_item_card.dart` | å¯æ‹–æ‹½é“å…·å¡ç‰‡ï¼Œæ”¯æŒç¨€æœ‰åº¦é¢œè‰² |

#### 3. InventoryProvider èƒŒåŒ…çŠ¶æ€ç®¡ç† âœ…

| åŠŸèƒ½ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| inventoryProvider | FutureProviderï¼Œè¿”å› Map<ItemModel, int> | âœ… |
| inventoryNotifierProvider | StateNotifierï¼Œç®¡ç†é“å…·å¢åˆ  | âœ… |
| useItem() | ä½¿ç”¨é“å…·ï¼Œæ•°é‡-1 | âœ… |
| addItem() | æ·»åŠ é“å…· | âœ… |
| æ¨¡æ‹Ÿæ•°æ® | 5ç§æµ‹è¯•é“å…·ï¼ˆé±¼å¹²ã€ç½å¤´ã€è‚‰æ¡ã€æ¯›å·¾ã€åˆ·å­ï¼‰ | âœ… |

#### 4. PetInteractionNotifier æ‰©å±• âœ…

| æ–¹æ³• | æ•ˆæœ | çŠ¶æ€ |
|------|------|------|
| play(petId) | å¿ƒæƒ…+20, ç²¾åŠ›-10, ç»éªŒ+10, äº²å¯†åº¦+15 | âœ… æ–°å¢ |
| clean(petId, cleanlinessGain) | æ”¯æŒè‡ªå®šä¹‰æ¸…æ´åº¦å¢ç›Š | âœ… æ”¹è¿› |
| feed(petId, hungerGain) | æ”¯æŒè‡ªå®šä¹‰é¥±è…¹åº¦å¢ç›Š | âœ… å·²æœ‰ |

#### 5. PetRoomPage é‡æ„ âœ…

| æ”¹åŠ¨ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| ç§»é™¤æŒ‰é’®æ“ä½œæ  | åˆ é™¤ _buildActionBar() | âœ… |
| é›†æˆ InteractivePetWidget | æ›¿ä»£åŸæœ‰å® ç‰©åŒºåŸŸ | âœ… |
| é›†æˆ InventoryFAB | å³ä¸‹è§’èƒŒåŒ…æ‚¬æµ®æŒ‰é’® | âœ… |
| é›†æˆ InventoryPopup | åº•éƒ¨é“å…·é€‰æ‹©å¼¹çª— | âœ… |
| é“å…·æ‹–æ”¾å¤„ç† | _handleItemDropped() å®Œæ•´é€»è¾‘ | âœ… |
| ä¼˜åŒ–åé¦ˆå¼¹çª— | å¸¦å›¾æ ‡å’Œè¯¦ç»†ä¿¡æ¯çš„ SnackBar | âœ… |

### æ–°å¢/ä¿®æ”¹æ–‡ä»¶æ¸…å•

| æ“ä½œ | æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
|------|----------|------|
| æ–°å»º | `lib/presentation/widgets/pet/interactive_pet_widget.dart` | å¯äº¤äº’å® ç‰©ç»„ä»¶ |
| æ–°å»º | `lib/presentation/widgets/inventory/inventory_fab.dart` | èƒŒåŒ…æ‚¬æµ®æŒ‰é’® |
| æ–°å»º | `lib/presentation/widgets/inventory/inventory_popup.dart` | é“å…·é€‰æ‹©å¼¹çª— |
| æ–°å»º | `lib/presentation/widgets/inventory/draggable_item_card.dart` | å¯æ‹–æ‹½é“å…·å¡ç‰‡ |
| æ–°å»º | `lib/providers/inventory_provider.dart` | èƒŒåŒ…çŠ¶æ€ç®¡ç† |
| ä¿®æ”¹ | `lib/providers/pet_provider.dart` | æ·»åŠ  play() æ–¹æ³• |
| é‡æ„ | `lib/presentation/pages/home/pet_room_page.dart` | æ²‰æµ¸å¼äº¤äº’å¸ƒå±€ |

### äº¤äº’æ–¹å¼æ€»ç»“

| äº¤äº’ | æ‰‹åŠ¿ | æ•ˆæœ |
|------|------|------|
| æŠšæ‘¸ | å•å‡»å® ç‰© | å¿ƒæƒ…+15, äº²å¯†åº¦+10 |
| ä¼‘æ¯ | é•¿æŒ‰å® ç‰© | ç²¾åŠ›+30 |
| ç©è€ | åŒå‡»å® ç‰© | å¿ƒæƒ…+20, ç²¾åŠ›-10 |
| å–‚é£Ÿ | æ‹–æ‹½é£Ÿç‰©åˆ°å® ç‰© | é¥±è…¹åº¦+N (æ ¹æ®é“å…·) |
| æ¸…æ´ | æ‹–æ‹½æ¯›å·¾åˆ°å® ç‰© | æ¸…æ´åº¦+N (æ ¹æ®é“å…·) |

### åç»­è®¡åˆ’

| ä¼˜å…ˆçº§ | ä»»åŠ¡ | è¯´æ˜ |
|--------|------|------|
| P1 | Rive åŠ¨ç”»å‡çº§ | å­¦ä¹  Rive åæ›¿æ¢é™æ€å›¾æ ‡ä¸ºåŠ¨ç”» |
| P1 | èƒŒåŒ…æŒä¹…åŒ– | Firestore å­˜å‚¨ç”¨æˆ·é“å…· |
| P2 | é“å…·å•†åº— | è´­ä¹°é“å…·åŠŸèƒ½ |
| P2 | é“å…·æ•ˆæœæ‰©å±• | æ”¯æŒæ›´å¤šé“å…·ç±»å‹å’Œæ•ˆæœ |

---

## 2026-01-30 å¼€å‘æ—¥å¿—ï¼ˆç¬¬ä¸€é˜¶æ®µæ ¸å¿ƒåŠŸèƒ½ï¼‰

### æ¦‚è¿°

æœ¬æ¬¡å¼€å‘å®Œæˆäº†ç¬¬ä¸€é˜¶æ®µæ ¸å¿ƒå…»æˆåŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼šè·¯ç”±å®ˆå«ã€åº•éƒ¨å¯¼èˆªæ é‡æ„ã€ä¸ªäººä¸­å¿ƒé¡µé¢ã€æ¸…æ´äº’åŠ¨åŠŸèƒ½ã€çŠ¶æ€è¡°å‡æœºåˆ¶ã€‚åŒæ—¶ä¿®å¤äº†å¤šä¸ª Firestore åºåˆ—åŒ–å’Œæƒé™é—®é¢˜ã€‚

### å®Œæˆäº‹é¡¹

#### 1. è·¯ç”±å®ˆå«å®ç° âœ…

| åŠŸèƒ½ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| GoRouterRefreshStream | ç›‘å¬è®¤è¯çŠ¶æ€å˜åŒ–ï¼Œè‡ªåŠ¨åˆ·æ–°è·¯ç”± | âœ… |
| redirect å›è°ƒ | æ ¹æ®ç™»å½•çŠ¶æ€é‡å®šå‘é¡µé¢ | âœ… |
| è®¤è¯é¡µé¢ç™½åå• | splashã€loginã€register æ— éœ€ç™»å½• | âœ… |
| æœªç™»å½•é‡å®šå‘ | æœªç™»å½•è®¿é—®å—ä¿æŠ¤é¡µé¢è‡ªåŠ¨è·³è½¬ç™»å½•é¡µ | âœ… |

#### 2. åº•éƒ¨å¯¼èˆªæ é‡æ„ âœ…

| åŠŸèƒ½ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| MainShellPage | å¯¼èˆª Shell å®¹å™¨ï¼ŒåŒ…å«åº•éƒ¨å¯¼èˆªæ  | âœ… |
| ShellRoute | ä½¿ç”¨ go_router ShellRoute åŒ…è£¹ä¸»é¡µé¢ | âœ… |
| å¯¼èˆªé¡¹ | é¦–é¡µã€ç¤¾åŒºã€æˆ‘çš„ ä¸‰ä¸ª Tab | âœ… |
| CommunityPage | ç¤¾åŒºå ä½é¡µé¢ | âœ… |

#### 3. ä¸ªäººä¸­å¿ƒé¡µé¢ âœ…

| åŠŸèƒ½ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| ProfilePage | ç”¨æˆ·ä¿¡æ¯ã€è´§å¸ã€ç»Ÿè®¡æ•°æ®å±•ç¤º | âœ… |
| SettingsPage | è®¾ç½®é¡µé¢ï¼ˆé€šçŸ¥ã€æ˜¾ç¤ºã€å…³äºï¼‰ | âœ… |
| é€€å‡ºç™»å½• | ç¡®è®¤å¼¹çª— + è·³è½¬ç™»å½•é¡µ | âœ… |
| èœå•åˆ—è¡¨ | æˆ‘çš„å® ç‰©ã€èƒŒåŒ…ã€æˆå°±ã€è®¾ç½® | âœ… |

#### 4. æ¸…æ´äº’åŠ¨åŠŸèƒ½ âœ…

| åŠŸèƒ½ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| PetStatus.cleanliness | å® ç‰©çŠ¶æ€æ·»åŠ æ¸…æ´åº¦å­—æ®µ | âœ… |
| cleanlinessColor | æ¸…æ´åº¦çŠ¶æ€æ¡é¢œè‰² | âœ… |
| clean() æ–¹æ³• | æ¸…æ´åº¦+25, å¿ƒæƒ…+10, å¥åº·+5, ç»éªŒ+8, äº²å¯†åº¦+8 | âœ… |
| æ¸…æ´æŒ‰é’® | PetRoomPage æ·»åŠ æ¸…æ´æŒ‰é’® | âœ… |
| æ¸…æ´çŠ¶æ€æ¡ | æ˜¾ç¤ºåœ¨çŠ¶æ€æ¡åŒºåŸŸ | âœ… |

#### 5. çŠ¶æ€è¡°å‡æœºåˆ¶ âœ…

| åŠŸèƒ½ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| StatusDecayCalculator | ç¦»çº¿è¡°å‡è®¡ç®—å™¨ | âœ… |
| è¡°å‡é€Ÿç‡ | å¿ƒæƒ…-2/h, é¥¥é¥¿-3/h, ç²¾åŠ›-1.5/h, æ¸…æ´-2/h, å¥åº·-0.5/h | âœ… |
| ç‰¹æ®Šè§„åˆ™ | çºªå¿µæ¨¡å¼ä¸è¡°å‡ï¼Œæœ€å¤§è®¡ç®—24å°æ—¶ | âœ… |
| selectedPetWithDecayProvider | å¸¦è¡°å‡è®¡ç®—çš„å® ç‰© Provider | âœ… |

#### 6. Firestore é—®é¢˜ä¿®å¤ âœ…

| é—®é¢˜ | è§£å†³æ–¹æ¡ˆ | çŠ¶æ€ |
|------|----------|------|
| API æœªå¯ç”¨ | æŒ‡å¯¼ç”¨æˆ·å¯ç”¨ Firestore API | âœ… |
| æ•°æ®åº“æœªåˆ›å»º | æŒ‡å¯¼ç”¨æˆ·åˆ›å»º Firestore æ•°æ®åº“ | âœ… |
| æƒé™æ‹’ç» | ä¿®æ”¹å®‰å…¨è§„åˆ™ä¸ºæµ‹è¯•æ¨¡å¼ | âœ… |
| ç´¢å¼•ç¼ºå¤± | ç§»é™¤ orderBy æŸ¥è¯¢é¿å…å¤åˆç´¢å¼• | âœ… |
| åºåˆ—åŒ–å¤±è´¥ | æ‰‹åŠ¨æ„å»º Firestore æ•°æ®ç»“æ„ | âœ… |
| ç”¨æˆ·æ–‡æ¡£ä¸å­˜åœ¨ | ä½¿ç”¨ set(merge: true) æ›¿ä»£ update | âœ… |
| ååºåˆ—åŒ–ç±»å‹é”™è¯¯ | é‡å†™ _petFromFirestore æ‰‹åŠ¨æ„å»ºå¯¹è±¡ | âœ… |

### æ–°å¢/ä¿®æ”¹æ–‡ä»¶æ¸…å•

| æ“ä½œ | æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
|------|----------|------|
| æ–°å»º | `lib/core/utils/status_decay_calculator.dart` | çŠ¶æ€è¡°å‡è®¡ç®—å™¨ |
| æ–°å»º | `lib/presentation/pages/main/main_shell_page.dart` | å¯¼èˆª Shell å®¹å™¨ |
| æ–°å»º | `lib/presentation/pages/community/community_page.dart` | ç¤¾åŒºå ä½é¡µ |
| æ–°å»º | `lib/presentation/pages/profile/profile_page.dart` | ä¸ªäººä¸­å¿ƒé¡µé¢ |
| æ–°å»º | `lib/presentation/pages/profile/settings_page.dart` | è®¾ç½®é¡µé¢ |
| ä¿®æ”¹ | `lib/data/models/pet_model.dart` | PetStatus æ·»åŠ  cleanliness |
| ä¿®æ”¹ | `lib/services/firestore_service.dart` | åºåˆ—åŒ–/ååºåˆ—åŒ–ä¿®å¤ |
| ä¿®æ”¹ | `lib/providers/pet_provider.dart` | æ·»åŠ  clean() å’Œè¡°å‡ Provider |
| ä¿®æ”¹ | `lib/presentation/router/app_router.dart` | è·¯ç”±å®ˆå« + ShellRoute |
| ä¿®æ”¹ | `lib/presentation/pages/home/pet_room_page.dart` | æ¸…æ´æŒ‰é’® + ç§»é™¤åº•éƒ¨å¯¼èˆª |
| ä¿®æ”¹ | `lib/presentation/pages/pet/pet_create_page.dart` | è¿”å›æŒ‰é’® + ä¸Šä¼ æç¤º |
| ä¿®æ”¹ | `lib/core/theme/app_colors.dart` | æ·»åŠ  cleanlinessColor |

### æµ‹è¯•éªŒè¯ç»“æœ

| æµ‹è¯•é¡¹ | é¢„æœŸç»“æœ | å®é™…ç»“æœ |
|--------|----------|----------|
| æœªç™»å½•è®¿é—® /pet-room | é‡å®šå‘åˆ° /login | âœ… é€šè¿‡ |
| å·²ç™»å½•è®¿é—® /login | é‡å®šå‘åˆ° /pet-room | âœ… é€šè¿‡ |
| åº•éƒ¨å¯¼èˆªåˆ‡æ¢ | æ­£ç¡®åˆ‡æ¢é¡µé¢ | âœ… é€šè¿‡ |
| ä¸ªäººä¸­å¿ƒæ˜¾ç¤º | æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯å’Œè´§å¸ | âœ… é€šè¿‡ |
| é€€å‡ºç™»å½• | è·³è½¬åˆ°ç™»å½•é¡µ | âœ… é€šè¿‡ |
| åˆ›å»ºå® ç‰© | æˆåŠŸåˆ›å»ºå¹¶è·³è½¬é¦–é¡µ | âœ… é€šè¿‡ |
| æŠšæ‘¸äº’åŠ¨ | å¿ƒæƒ… +15 | âœ… é€šè¿‡ |
| å–‚é£Ÿäº’åŠ¨ | é¥±è…¹åº¦ +20 | âœ… é€šè¿‡ |
| æ¸…æ´äº’åŠ¨ | æ¸…æ´åº¦ +25 | âœ… é€šè¿‡ |
| æ¸…æ´çŠ¶æ€æ¡ | æ­£ç¡®æ˜¾ç¤º | âœ… é€šè¿‡ |

---

## å½“å‰åŠŸèƒ½å®ŒæˆçŠ¶æ€

### å·²å®ŒæˆåŠŸèƒ½ âœ…

| æ¨¡å— | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|
| è®¤è¯ | é‚®ç®±æ³¨å†Œ/ç™»å½• | âœ… |
| è®¤è¯ | Google ç™»å½• | âœ… |
| è®¤è¯ | è·¯ç”±å®ˆå« | âœ… |
| å¯¼èˆª | åº•éƒ¨å¯¼èˆªæ  | âœ… |
| å¯¼èˆª | ShellRoute æ¶æ„ | âœ… |
| å® ç‰© | åˆ›å»ºå® ç‰©ï¼ˆé¢„è®¾å½¢è±¡ï¼‰ | âœ… |
| å® ç‰© | å® ç‰©å±•ç¤º | âœ… |
| äº’åŠ¨ | ç‚¹å‡»æŠšæ‘¸ï¼ˆæ‰‹åŠ¿ï¼‰ | âœ… |
| äº’åŠ¨ | é•¿æŒ‰ä¼‘æ¯ï¼ˆæ‰‹åŠ¿ï¼‰ | âœ… |
| äº’åŠ¨ | åŒå‡»ç©è€ï¼ˆæ‰‹åŠ¿ï¼‰ | âœ… |
| äº’åŠ¨ | æ‹–æ‹½å–‚é£Ÿï¼ˆæ‰‹åŠ¿ï¼‰ | âœ… |
| äº’åŠ¨ | æ‹–æ‹½æ¸…æ´ï¼ˆæ‰‹åŠ¿ï¼‰ | âœ… |
| èƒŒåŒ… | èƒŒåŒ…æ‚¬æµ®æŒ‰é’® | âœ… |
| èƒŒåŒ… | é“å…·é€‰æ‹©å¼¹çª— | âœ… |
| èƒŒåŒ… | å¯æ‹–æ‹½é“å…·å¡ç‰‡ | âœ… |
| èƒŒåŒ… | èƒŒåŒ…çŠ¶æ€ç®¡ç†ï¼ˆæœ¬åœ°ï¼‰ | âœ… |
| çŠ¶æ€ | äº”ç»´çŠ¶æ€æ¡æ˜¾ç¤º | âœ… |
| çŠ¶æ€ | çŠ¶æ€è¡°å‡è®¡ç®— | âœ… |
| ç”¨æˆ· | ä¸ªäººä¸­å¿ƒé¡µé¢ | âœ… |
| ç”¨æˆ· | è®¾ç½®é¡µé¢ | âœ… |
| ç”¨æˆ· | é€€å‡ºç™»å½• | âœ… |

### å¾…å¼€å‘åŠŸèƒ½

| ä¼˜å…ˆçº§ | æ¨¡å— | åŠŸèƒ½ | çŠ¶æ€ |
|--------|------|------|------|
| P0 | çŠ¶æ€ | è¡°å‡çŠ¶æ€åŒæ­¥åˆ° Firestore | â³ |
| P1 | åŠ¨ç”» | Rive å® ç‰©åŠ¨ç”»å‡çº§ | â³ |
| P1 | èƒŒåŒ… | èƒŒåŒ…æŒä¹…åŒ–ï¼ˆFirestoreï¼‰ | â³ |
| P1 | å® ç‰© | ç…§ç‰‡ä¸Šä¼ åŠŸèƒ½ | â³ |
| P1 | å® ç‰© | å¤šå® ç‰©åˆ‡æ¢ | â³ |
| P1 | ç­¾åˆ° | æ¯æ—¥ç­¾åˆ°ç³»ç»Ÿ | â³ |
| P2 | å•†åº— | é“å…·å•†åº— | â³ |
| P2 | ç”¨æˆ· | èµ„æ–™ç¼–è¾‘ | â³ |
| P3 | AI | å¡é€šå½¢è±¡ç”Ÿæˆ | â³ |
| P3 | ç¤¾åŒº | ç¤¾åŒºåŠŸèƒ½ | â³ |
| P3 | çºªå¿µ | çºªå¿µæ¨¡å¼ | â³ |

---

## 2026-01-29 å¼€å‘æ—¥å¿—

### æ¦‚è¿°

æœ¬æ¬¡å¼€å‘å®Œæˆäº†é¡¹ç›®çš„é¦–æ¬¡è¿è¡Œè°ƒè¯•ï¼Œè§£å†³äº†å¤šä¸ªç¯å¢ƒé…ç½®å’Œä¾èµ–å…¼å®¹æ€§é—®é¢˜ï¼Œå¹¶æˆåŠŸå®ç°äº† Google ç™»å½•åŠŸèƒ½çš„ä»£ç é›†æˆã€‚

### å®Œæˆäº‹é¡¹

#### 1. ç¯å¢ƒé…ç½®ä¸ä¾èµ–ä¿®å¤

| é—®é¢˜ | è§£å†³æ–¹æ¡ˆ | çŠ¶æ€ |
|------|----------|------|
| Firebase ä¾èµ–ç‰ˆæœ¬è¿‡æ—§ | å‡çº§ `firebase_core` åˆ° 4.4.0ï¼Œ`firebase_auth` åˆ° 6.1.0ï¼Œ`cloud_firestore` åˆ° 6.1.0ï¼Œ`firebase_storage` åˆ° 13.0.0 | âœ… |
| `image_cropper` ç‰ˆæœ¬ä¸å…¼å®¹ | å‡çº§åˆ° 11.0.0 | âœ… |
| Flutter widgets å¯¼å…¥ç¼ºå¤± | `app_router.dart` æ·»åŠ  `import 'package:flutter/material.dart'` | âœ… |
| `CardTheme` API å˜æ›´ | `app_theme.dart` æ”¹ä¸º `CardThemeData` | âœ… |
| Google Services æ’ä»¶ç‰ˆæœ¬å†²çª | `build.gradle.kts` ç‰ˆæœ¬ 4.4.4 â†’ 4.3.15 | âœ… |
| Kotlin ç‰ˆæœ¬ä¸å­˜åœ¨ | `settings.gradle.kts` ç‰ˆæœ¬ 2.2.20 â†’ 2.0.21 | âœ… |
| Maven ä»“åº“ç½‘ç»œé—®é¢˜ | é…ç½®é˜¿é‡Œäº‘é•œåƒæº | âœ… |
| Firebase é‡å¤åˆå§‹åŒ–å´©æºƒ | `main.dart` æ·»åŠ  try-catch å¤„ç† | âœ… |

#### 2. Google ç™»å½•åŠŸèƒ½å®ç°

| æ­¥éª¤ | è¯¦æƒ… | çŠ¶æ€ |
|------|------|------|
| è·å– SHA-1 æŒ‡çº¹ | `81:E0:2F:F3:C5:AB:C6:9B:EA:88:CB:40:4C:A6:9B:5C:15:36:41:73` | âœ… |
| Firebase Console é…ç½® | å¯ç”¨ Google ç™»å½•ã€æ·»åŠ  SHA-1 | âœ… |
| ä¸‹è½½ google-services.json | æ›´æ–°åˆ°é¡¹ç›® `android/app/` ç›®å½• | âœ… |
| æ·»åŠ ä¾èµ– | `google_sign_in: ^6.2.1` | âœ… |
| AuthService ä»£ç  | æ·»åŠ  `signInWithGoogle()` æ–¹æ³• | âœ… |
| Provider ä»£ç  | LoginNotifier æ·»åŠ  Google ç™»å½• | âœ… |
| é¡µé¢ä»£ç  | ç™»å½•é¡µé¢è¿æ¥ Google æŒ‰é’® | âœ… |

---

## é¡¹ç›®æ¦‚è§ˆ

| é¡¹ç›®ä¿¡æ¯ | å€¼ |
|----------|-----|
| é¡¹ç›®åç§° | Cat Club (çŒ«å’ªä¿±ä¹éƒ¨) |
| æŠ€æœ¯æ ˆ | Flutter 3.38.8 + Dart 3.10.7 |
| çŠ¶æ€ç®¡ç† | Riverpod |
| è·¯ç”± | Go Router |
| åç«¯æœåŠ¡ | Firebase (Auth, Firestore, Storage) |
| å½“å‰é˜¶æ®µ | Phase 1: MVP - Week 2 |

---

## é¡¹ç›®ç»“æ„

```
cat-club/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ main.dart
â”‚   â”œâ”€â”€ app.dart
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ constants/
â”‚   â”‚   â”œâ”€â”€ theme/
â”‚   â”‚   â”‚   â”œâ”€â”€ app_colors.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ app_text_styles.dart
â”‚   â”‚   â”‚   â””â”€â”€ app_theme.dart
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â””â”€â”€ status_decay_calculator.dart
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â””â”€â”€ models/
â”‚   â”‚       â”œâ”€â”€ pet_model.dart
â”‚   â”‚       â”œâ”€â”€ user_model.dart
â”‚   â”‚       â””â”€â”€ item_model.dart
â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”œâ”€â”€ auth_provider.dart
â”‚   â”‚   â”œâ”€â”€ user_provider.dart
â”‚   â”‚   â”œâ”€â”€ pet_provider.dart
â”‚   â”‚   â””â”€â”€ inventory_provider.dart          # æ–°å¢ - èƒŒåŒ…çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ auth_service.dart
â”‚   â”‚   â””â”€â”€ firestore_service.dart
â”‚   â””â”€â”€ presentation/
â”‚       â”œâ”€â”€ router/
â”‚       â”‚   â””â”€â”€ app_router.dart
â”‚       â”œâ”€â”€ pages/
â”‚       â”‚   â”œâ”€â”€ auth/
â”‚       â”‚   â”‚   â”œâ”€â”€ splash_page.dart
â”‚       â”‚   â”‚   â”œâ”€â”€ login_page.dart
â”‚       â”‚   â”‚   â””â”€â”€ register_page.dart
â”‚       â”‚   â”œâ”€â”€ main/
â”‚       â”‚   â”‚   â””â”€â”€ main_shell_page.dart
â”‚       â”‚   â”œâ”€â”€ home/
â”‚       â”‚   â”‚   â””â”€â”€ pet_room_page.dart        # é‡æ„ - æ²‰æµ¸å¼äº¤äº’
â”‚       â”‚   â”œâ”€â”€ pet/
â”‚       â”‚   â”‚   â””â”€â”€ pet_create_page.dart
â”‚       â”‚   â”œâ”€â”€ community/
â”‚       â”‚   â”‚   â””â”€â”€ community_page.dart
â”‚       â”‚   â””â”€â”€ profile/
â”‚       â”‚       â”œâ”€â”€ profile_page.dart
â”‚       â”‚       â””â”€â”€ settings_page.dart
â”‚       â””â”€â”€ widgets/
â”‚           â”œâ”€â”€ common/
â”‚           â”‚   â”œâ”€â”€ app_button.dart
â”‚           â”‚   â””â”€â”€ app_text_field.dart
â”‚           â”œâ”€â”€ pet/
â”‚           â”‚   â”œâ”€â”€ pet_status_bar.dart
â”‚           â”‚   â””â”€â”€ interactive_pet_widget.dart  # æ–°å¢ - å¯äº¤äº’å® ç‰©ç»„ä»¶
â”‚           â””â”€â”€ inventory/                       # æ–°å¢ - èƒŒåŒ…ç»„ä»¶ç›®å½•
â”‚               â”œâ”€â”€ inventory_fab.dart           # æ–°å¢ - èƒŒåŒ…æ‚¬æµ®æŒ‰é’®
â”‚               â”œâ”€â”€ inventory_popup.dart         # æ–°å¢ - é“å…·é€‰æ‹©å¼¹çª—
â”‚               â””â”€â”€ draggable_item_card.dart     # æ–°å¢ - å¯æ‹–æ‹½é“å…·å¡ç‰‡
â”œâ”€â”€ docs/
â””â”€â”€ test/
```

---

## è¿è¡Œé¡¹ç›®

```bash
# 1. å®‰è£…ä¾èµ–
cd D:\GitProject\cat-club
flutter pub get

# 2. ç”Ÿæˆ Freezed ä»£ç 
flutter.bat pub run build_runner build --delete-conflicting-outputs

# 3. è¿è¡Œåº”ç”¨
flutter.bat run -d emulator-5554
```

---

## ç›¸å…³æ–‡æ¡£

- [01-project-overview.md](./01-project-overview.md) - é¡¹ç›®æ¦‚è¿°
- [02-technical-architecture.md](./02-technical-architecture.md) - æŠ€æœ¯æ¶æ„
- [03-data-models.md](./03-data-models.md) - æ•°æ®æ¨¡å‹è®¾è®¡
- [04-feature-modules.md](./04-feature-modules.md) - åŠŸèƒ½æ¨¡å—
- [05-api-design.md](./05-api-design.md) - API è®¾è®¡
- [06-ui-design-spec.md](./06-ui-design-spec.md) - UI è®¾è®¡è§„èŒƒ
- [07-development-plan.md](./07-development-plan.md) - å¼€å‘è®¡åˆ’
- [08-environment-setup.md](./08-environment-setup.md) - ç¯å¢ƒé…ç½®æŒ‡å—
